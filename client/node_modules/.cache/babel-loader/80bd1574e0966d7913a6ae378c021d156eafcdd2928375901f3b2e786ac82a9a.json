{"ast":null,"code":"var _jsxFileName = \"/home/rakib/Downloads/Web Application Framework/1. final assignemnt/real-time-blog-platform/client/src/pages/PostEditorPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PostEditorPage() {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    title: '',\n    tags: '',\n    content: ''\n  });\n  const [error, setError] = useState('');\n  const handleChange = e => {\n    setFormData(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      await axios.post(`${process.env.REACT_APP_API_URL}/api/posts`, {\n        title: formData.title,\n        content: formData.content,\n        tags: formData.tags.split(',').map(tag => tag.trim())\n      }, {\n        withCredentials: true\n      });\n      navigate('/'); // Redirect after successful post\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Post creation failed:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Something went wrong.');\n    }\n  };\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"You must be logged in to create or edit posts.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mx-auto\",\n    style: {\n      maxWidth: 600\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Create a New Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          name: \"title\",\n          value: formData.title,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Tags (comma-separated)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          name: \"tags\",\n          value: formData.tags,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          name: \"content\",\n          as: \"textarea\",\n          rows: 6,\n          value: formData.content,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"success\",\n        children: \"Publish\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(PostEditorPage, \"Dx8nLHaKQodsFF7q+B0X+V+NurA=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = PostEditorPage;\nexport default PostEditorPage;\nvar _c;\n$RefreshReg$(_c, \"PostEditorPage\");","map":{"version":3,"names":["React","useState","Form","Button","useNavigate","useAuth","axios","jsxDEV","_jsxDEV","PostEditorPage","_s","user","navigate","formData","setFormData","title","tags","content","error","setError","handleChange","e","prev","target","name","value","handleSubmit","preventDefault","post","process","env","REACT_APP_API_URL","split","map","tag","trim","withCredentials","err","_err$response","_err$response$data","console","response","data","children","fileName","_jsxFileName","lineNumber","columnNumber","className","style","maxWidth","onSubmit","Group","Label","Control","onChange","required","as","rows","type","variant","_c","$RefreshReg$"],"sources":["/home/rakib/Downloads/Web Application Framework/1. final assignemnt/real-time-blog-platform/client/src/pages/PostEditorPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport axios from 'axios';\n\nfunction PostEditorPage() {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n\n  const [formData, setFormData] = useState({\n    title: '',\n    tags: '',\n    content: ''\n  });\n\n  const [error, setError] = useState('');\n\n  const handleChange = (e) => {\n    setFormData(prev => ({ ...prev, [e.target.name]: e.target.value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      await axios.post(\n        `${process.env.REACT_APP_API_URL}/api/posts`,\n        {\n          title: formData.title,\n          content: formData.content,\n          tags: formData.tags.split(',').map(tag => tag.trim())\n        },\n        { withCredentials: true }\n      );\n\n      navigate('/'); // Redirect after successful post\n    } catch (err) {\n      console.error('Post creation failed:', err);\n      setError(err.response?.data?.error || 'Something went wrong.');\n    }\n  };\n\n  if (!user) {\n    return <p>You must be logged in to create or edit posts.</p>;\n  }\n\n  return (\n    <div className=\"mx-auto\" style={{ maxWidth: 600 }}>\n      <h3>Create a New Post</h3>\n\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n\n      <Form onSubmit={handleSubmit}>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Title</Form.Label>\n          <Form.Control\n            name=\"title\"\n            value={formData.title}\n            onChange={handleChange}\n            required\n          />\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Tags (comma-separated)</Form.Label>\n          <Form.Control\n            name=\"tags\"\n            value={formData.tags}\n            onChange={handleChange}\n          />\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Content</Form.Label>\n          <Form.Control\n            name=\"content\"\n            as=\"textarea\"\n            rows={6}\n            value={formData.content}\n            onChange={handleChange}\n            required\n          />\n        </Form.Group>\n\n        <Button type=\"submit\" variant=\"success\">Publish</Button>\n      </Form>\n    </div>\n  );\n}\n\nexport default PostEditorPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}